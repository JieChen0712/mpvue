  <style type="text/css">
    .layui-layer-content {overflow: visible!important;}
    /*小屏幕样式*/
    @media screen and (max-width: 768px) {
        .layui-form-item .layui-form-label {
            width: 100%;
        }
    }
  </style>
<script>
    form.render()
</script>
<div class="edit-wrapper layui-container">
    <div class="layui-content">

<form class="layui-form layui-box" style='padding:25px 30px 20px 0' action="__URL__/rule_post" data-auto="false" method="post" >

    <div class="layui-form-item">
        <label class="layui-form-label">积分类别</label>
        <div class="layui-input-block">
            <select  name="type" id="type" lay-filter="type" lay-verify="required">
                <option value="">类别</option>
                <foreach name="types" key="type_id" item="type_v">
                    <if condition="$list.type eq $type_id">
                        <option selected="selected" value="{$type_id}">{$type_v}</option>
                        <else />
                        <option value="{$type_id}">{$type_v}</option>
                    </if>
                </foreach>
            </select>
        </div>
    </div>



    <div class="layui-form-item">
        <label class="layui-form-label">积分</label>
        <div class="layui-input-block">
            <input type="number" name="score" required=""  title="请输入积分" placeholder="请输入积分" class="layui-input" value="{$list.score}">
        </div>
    </div>

    <div class="layui-form-item type_level" >
        <label class="layui-form-label" for="level">代理级别</label>
        <div class="layui-input-block three-select">
            <if condition="$id gt 0">
                $level_name.$list.level
                <else />
                <select lay-verify="required" name="level" id="level" >
                    <option value="0">所有级别</option>
                    <foreach name="Think.config.LEVEL_NAME" key="key_left_num" item="vo_left_name">
                        <if condition="$list.level eq $key_left_num">
                            <option selected="selected" value="{$key_left_num}">{$vo_left_name}</option>
                            <else />
                            <option value="{$key_left_num}">{$vo_left_name}</option>
                        </if>
                    </foreach>
                </select>
            </if>
            <br />（所有级别的优先权高于其它级别，即如有所有级别的规则则其它级别不起作用）
        </div>
    </div>


    <div class="layui-form-item display type5 type6 type9">
        <label class="layui-form-label" for="rec_level">被推荐人级别</label>
        <div class="layui-input-block">
            <if condition="$id gt 0">
                $level_name.$list.level
                <else />
                <select lay-verify="required" name="rec_level" id="rec_level">
                    <foreach name="Think.config.LEVEL_NAME" key="key_left_num" item="vo_left_name">
                        <if condition="$list.level eq $key_left_num">
                            <option selected="selected" value="{$key_left_num}">{$vo_left_name}</option>
                            <else />
                            <option value="{$key_left_num}">{$vo_left_name}</option>
                        </if>
                    </foreach>
                </select>
            </if>
        </div>
    </div>
    <!--<div class="layui-form-item dislay type">
        <label class="layui-form-label">订单总金额最小限制（0则不做限制）</label>
        <div class="layui-input-block">

        </div>
    </div>-->

    <div class="hr-line-dashed"></div>

    <div class="layui-form-item text-center">
        <button class="layui-btn" type='submit'>确认</button>
        <input value="{$list.id}" name="id" type="hidden">
        <button class="layui-btn layui-btn-danger" type='button' data-confirm="确定要取消吗？" data-close>取消</button>
    </div>

</form>
    </div>

</div>
<script>

form.on('select(type)',function(data){
  change_type()
})

    function change_type(){

        $(".type_level").show();
        console.log($("#type").val())
        var type = $("#type").val();

        if(  type == '5' || type == '6' || type == '9' || type == '11' ){
            $(".type_level").hide();
        }

        $(".display").hide();
        $(".type"+type).show();
    }


    change_type();

</script>
